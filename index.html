<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Ursinho Amigão 3D - Fase 1</title>
  <style>
    body { margin: 0; overflow: hidden; }
    #hud {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      font-family: sans-serif;
      background: rgba(0,0,0,0.6);
      padding: 10px;
      border-radius: 8px;
      z-index: 10;
    }
  </style>
</head>
<body>
  <div id="hud">
    ❤️❤️❤️<br>
    Itens: 0 / 3<br>
    Tempo: <span id="timer">90</span>s
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.150.1/three.min.js"></script>
  <script>
    // CENA
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0xaee1f9);

    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // LUZ
    const light = new THREE.HemisphereLight(0xffffff, 0x444444);
    light.position.set(0, 100, 0);
    scene.add(light);

    // CHÃO
    const groundGeometry = new THREE.BoxGeometry(50, 1, 50);
    const groundMaterial = new THREE.MeshLambertMaterial({ color: 0x4caf50 });
    const ground = new THREE.Mesh(groundGeometry, groundMaterial);
    ground.position.y = -0.5;
    scene.add(ground);

    // JOGADOR
    const playerGeometry = new THREE.BoxGeometry(1, 1, 1);
    const playerMaterial = new THREE.MeshLambertMaterial({ color: 0xffc107 });
    const player = new THREE.Mesh(playerGeometry, playerMaterial);
    player.position.y = 0.5;
    scene.add(player);

    // CÂMERA
    camera.position.set(3, 3, 5);
    camera.lookAt(player.position);

    // MOVIMENTO
    const keys = {};
    document.addEventListener("keydown", (e) => keys[e.key.toLowerCase()] = true);
    document.addEventListener("keyup", (e) => keys[e.key.toLowerCase()] = false);

    // HUD - CRONÔMETRO
    let tempo = 90;
    const timerEl = document.getElementById("timer");
    setInterval(() => {
      if (tempo > 0) {
        tempo--;
        timerEl.innerText = tempo;
      }
    }, 1000);

    // LOOP DE ANIMAÇÃO
    function animate() {
      requestAnimationFrame(animate);

      const speed = 0.1;
      if (keys["w"]) player.position.z -= speed;
      if (keys["s"]) player.position.z += speed;
      if (keys["a"]) player.position.x -= speed;
      if (keys["d"]) player.position.x += speed;

      // Câmera segue jogador
      camera.position.x = player.position.x + 3;
      camera.position.z = player.position.z + 5;
      camera.lookAt(player.position);

      renderer.render(scene, camera);
    }

    animate();
  </script>
</body>
</html>
